export class ContentManager {
  constructor() {
    this.content = {
      grades: {
        primary: {
          1: { name: "ุงูุณูุฉ ุงูุฃููู ุงุจุชุฏุงุฆู", subjects: ["ุงูุนุฑุจูุฉ", "ุงูุฑูุงุถูุงุช", "ุงูุชุฑุจูุฉ ุงูุฅุณูุงููุฉ"] },
          2: { name: "ุงูุณูุฉ ุงูุซุงููุฉ ุงุจุชุฏุงุฆู", subjects: ["ุงูุนุฑุจูุฉ", "ุงูุฑูุงุถูุงุช", "ุงูุชุฑุจูุฉ ุงูุฅุณูุงููุฉ", "ุงููุฑูุณูุฉ"] },
          3: {
            name: "ุงูุณูุฉ ุงูุซุงูุซุฉ ุงุจุชุฏุงุฆู",
            subjects: ["ุงูุนุฑุจูุฉ", "ุงูุฑูุงุถูุงุช", "ุงูุชุฑุจูุฉ ุงูุฅุณูุงููุฉ", "ุงููุฑูุณูุฉ", "ุงูุชุงุฑูุฎ ูุงูุฌุบุฑุงููุง"],
          },
          4: {
            name: "ุงูุณูุฉ ุงูุฑุงุจุนุฉ ุงุจุชุฏุงุฆู",
            subjects: ["ุงูุนุฑุจูุฉ", "ุงูุฑูุงุถูุงุช", "ุงูุชุฑุจูุฉ ุงูุฅุณูุงููุฉ", "ุงููุฑูุณูุฉ", "ุงูุชุงุฑูุฎ ูุงูุฌุบุฑุงููุง", "ุงูุนููู"],
          },
          5: {
            name: "ุงูุณูุฉ ุงูุฎุงูุณุฉ ุงุจุชุฏุงุฆู",
            subjects: ["ุงูุนุฑุจูุฉ", "ุงูุฑูุงุถูุงุช", "ุงูุชุฑุจูุฉ ุงูุฅุณูุงููุฉ", "ุงููุฑูุณูุฉ", "ุงูุชุงุฑูุฎ ูุงูุฌุบุฑุงููุง", "ุงูุนููู"],
          },
          6: {
            name: "ุงูุณูุฉ ุงูุณุงุฏุณุฉ ุงุจุชุฏุงุฆู",
            subjects: ["ุงูุนุฑุจูุฉ", "ุงูุฑูุงุถูุงุช", "ุงูุชุฑุจูุฉ ุงูุฅุณูุงููุฉ", "ุงููุฑูุณูุฉ", "ุงูุชุงุฑูุฎ ูุงูุฌุบุฑุงููุง", "ุงูุนููู"],
          },
        },
        middle: {
          7: {
            name: "ุงูุณูุฉ ุงูุฃููู ุฅุนุฏุงุฏู",
            subjects: [
              "ุงูุนุฑุจูุฉ",
              "ุงูุฑูุงุถูุงุช",
              "ุงูุชุฑุจูุฉ ุงูุฅุณูุงููุฉ",
              "ุงููุฑูุณูุฉ",
              "ุงูุฅูุฌููุฒูุฉ",
              "ุงูุชุงุฑูุฎ ูุงูุฌุบุฑุงููุง",
              "ุงูุนููู ุงูุทุจูุนูุฉ",
              "ุงูููุฒูุงุก",
            ],
          },
          8: {
            name: "ุงูุณูุฉ ุงูุซุงููุฉ ุฅุนุฏุงุฏู",
            subjects: [
              "ุงูุนุฑุจูุฉ",
              "ุงูุฑูุงุถูุงุช",
              "ุงูุชุฑุจูุฉ ุงูุฅุณูุงููุฉ",
              "ุงููุฑูุณูุฉ",
              "ุงูุฅูุฌููุฒูุฉ",
              "ุงูุชุงุฑูุฎ ูุงูุฌุบุฑุงููุง",
              "ุงูุนููู ุงูุทุจูุนูุฉ",
              "ุงูููุฒูุงุก",
            ],
          },
          9: {
            name: "ุงูุณูุฉ ุงูุซุงูุซุฉ ุฅุนุฏุงุฏู",
            subjects: [
              "ุงูุนุฑุจูุฉ",
              "ุงูุฑูุงุถูุงุช",
              "ุงูุชุฑุจูุฉ ุงูุฅุณูุงููุฉ",
              "ุงููุฑูุณูุฉ",
              "ุงูุฅูุฌููุฒูุฉ",
              "ุงูุชุงุฑูุฎ ูุงูุฌุบุฑุงููุง",
              "ุงูุนููู ุงูุทุจูุนูุฉ",
              "ุงูููุฒูุงุก",
            ],
          },
          10: {
            name: "ุงูุณูุฉ ุงูุฑุงุจุนุฉ ุฅุนุฏุงุฏู",
            subjects: [
              "ุงูุนุฑุจูุฉ",
              "ุงูุฑูุงุถูุงุช",
              "ุงูุชุฑุจูุฉ ุงูุฅุณูุงููุฉ",
              "ุงููุฑูุณูุฉ",
              "ุงูุฅูุฌููุฒูุฉ",
              "ุงูุชุงุฑูุฎ ูุงูุฌุบุฑุงููุง",
              "ุงูุนููู ุงูุทุจูุนูุฉ",
              "ุงูููุฒูุงุก",
            ],
          },
        },
        secondary: {
          literature_classic: {
            name: "ุดุนุจุฉ ุงูุขุฏุงุจ ุงูุฃุตููุฉ",
            subjects: ["ุงูุนุฑุจูุฉ", "ุงูุชุฑุจูุฉ ุงูุฅุณูุงููุฉ", "ุงูุชุงุฑูุฎ ูุงูุฌุบุฑุงููุง", "ุงูููุณูุฉ", "ุงููุฑูุณูุฉ"],
          },
          literature_modern: {
            name: "ุดุนุจุฉ ุงูุขุฏุงุจ ุงูุนุตุฑูุฉ",
            subjects: ["ุงูุนุฑุจูุฉ", "ุงููุฑูุณูุฉ", "ุงูุฅูุฌููุฒูุฉ", "ุงูุชุงุฑูุฎ ูุงูุฌุบุฑุงููุง", "ุงูููุณูุฉ", "ุงูุฑูุงุถูุงุช"],
          },
          sciences: {
            name: "ุดุนุจุฉ ุงูุนููู ุงูุทุจูุนูุฉ",
            subjects: ["ุงูุฑูุงุถูุงุช", "ุงูููุฒูุงุก", "ุงูููููุงุก", "ุงูุนููู ุงูุทุจูุนูุฉ", "ุงูุนุฑุจูุฉ", "ุงููุฑูุณูุฉ"],
          },
          mathematics: {
            name: "ุดุนุจุฉ ุงูุฑูุงุถูุงุช",
            subjects: ["ุงูุฑูุงุถูุงุช", "ุงูููุฒูุงุก", "ุงูููููุงุก", "ุงูุนุฑุจูุฉ", "ุงููุฑูุณูุฉ", "ุงูููุณูุฉ"],
          },
        },
      },
      universities: [
        "ุฌุงูุนุฉ ููุงูุดูุท ุงูุนุตุฑูุฉ",
        "ุฌุงูุนุฉ ุดูููุท ุงูุนุตุฑูุฉ",
        "ุงููุนูุฏ ุงูุนุงูู ููุฏุฑุงุณุงุช ูุงูุจุญูุซ ุงูุฅุณูุงููุฉ",
        "ุงููุฏุฑุณุฉ ุงูุนููุง ููุชุนููู",
        "ุงููุนูุฏ ุงูุนุงูู ูููุญุงุณุจุฉ ูุฅุฏุงุฑุฉ ุงููุคุณุณุงุช",
        "ูููุฉ ุงูุทุจ",
        "ุงููุฏุฑุณุฉ ุงููุทููุฉ ููุฅุฏุงุฑุฉ ูุงูุตุญุงูุฉ ูุงููุถุงุก",
      ],
      scholarships: [
        "ููุญ ุงูุญูููุฉ ุงูููุฑูุชุงููุฉ",
        "ููุญ ุงูุฌุงูุนุฉ ุงูุนุฑุจูุฉ",
        "ููุญ ุชุฑููุง",
        "ููุญ ุงููุบุฑุจ",
        "ููุญ ูุตุฑ",
        "ููุญ ุงูุตูู",
        "ููุญ ูุฑูุณุง",
        "ููุญ ุฃููุงููุง",
      ],
      competitions: [
        "ูุณุงุจูุฉ ุฏุฎูู ุงูุซุงูููุฉ",
        "ูุณุงุจูุฉ ุงูุจูุงููุฑูุง",
        "ูุณุงุจูุงุช ุงูุชูุธูู",
        "ุงููุณุงุจูุงุช ุงูุซูุงููุฉ",
        "ูุณุงุจูุงุช ุงูุฑูุงุถูุงุช",
        "ูุณุงุจูุงุช ุงูุนููู",
      ],
    }

    this.quizzes = new Map()
    this.books = new Map()
  }

  async initialize() {
    await this.loadQuizzes()
    await this.loadBooks()
    console.log("โ ุชู ุชุญููู ุงููุญุชูู ุงูุชุนูููู")
  }

  async loadQuizzes() {
    // Load quiz data for different subjects and grades
    const quizData = {
      ุฑูุงุถูุงุช_1: [
        {
          question: "ูู ูุณุงูู 2 + 3ุ",
          options: ["4", "5", "6", "7"],
          correct: 1,
          explanation: "ุงูุฌูุงุจ ุงูุตุญูุญ ูู 5 ูุฃู 2 + 3 = 5",
        },
        {
          question: "ูุง ูู ุงูุฑูู ุงูุฐู ูุฃุชู ุจุนุฏ 9ุ",
          options: ["8", "10", "11", "12"],
          correct: 1,
          explanation: "ุงูุฑูู ุงูุฐู ูุฃุชู ุจุนุฏ 9 ูู 10",
        },
      ],
      ุนุฑุจูุฉ_1: [
        {
          question: "ูู ุนุฏุฏ ุญุฑูู ุงููุฌุงุก ุงูุนุฑุจูุฉุ",
          options: ["26", "27", "28", "29"],
          correct: 2,
          explanation: "ุนุฏุฏ ุญุฑูู ุงููุฌุงุก ุงูุนุฑุจูุฉ 28 ุญุฑูุงู",
        },
      ],
    }

    for (const [key, quiz] of Object.entries(quizData)) {
      this.quizzes.set(key, quiz)
    }
  }

  async loadBooks() {
    // Simulate book data based on RIMBAC content
    const bookData = {
      "1_ุฑูุงุถูุงุช": {
        title: "ูุชุงุจ ุงูุฑูุงุถูุงุช - ุงูุณูุฉ ุงูุฃููู ุงุจุชุฏุงุฆู",
        description: "ูุชุงุจ ุงูุฑูุงุถูุงุช ููุณูุฉ ุงูุฃููู ูู ุงูุชุนููู ุงูุงุจุชุฏุงุฆู",
        downloadUrl: "https://rimbac.com/books/math_grade1.pdf",
        chapters: ["ุงูุฃุฑูุงู ูู 1 ุฅูู 10", "ุงูุฌูุน ุงูุจุณูุท", "ุงูุทุฑุญ ุงูุจุณูุท", "ุงูุฃุดูุงู ุงูููุฏุณูุฉ"],
      },
      "1_ุนุฑุจูุฉ": {
        title: "ูุชุงุจ ุงููุบุฉ ุงูุนุฑุจูุฉ - ุงูุณูุฉ ุงูุฃููู ุงุจุชุฏุงุฆู",
        description: "ูุชุงุจ ุงููุบุฉ ุงูุนุฑุจูุฉ ููุณูุฉ ุงูุฃููู ูู ุงูุชุนููู ุงูุงุจุชุฏุงุฆู",
        downloadUrl: "https://rimbac.com/books/arabic_grade1.pdf",
        chapters: ["ุงูุญุฑูู ุงููุฌุงุฆูุฉ", "ุงููููุงุช ุงูุจุณูุทุฉ", "ุงูุฌูู ุงููุตูุฑุฉ", "ุงููุฑุงุกุฉ ุงูุฃููู"],
      },
    }

    for (const [key, book] of Object.entries(bookData)) {
      this.books.set(key, book)
    }
  }

  getGradeInfo(gradeLevel) {
    // Find grade in all categories
    for (const [category, grades] of Object.entries(this.content.grades)) {
      if (grades[gradeLevel]) {
        return { category, ...grades[gradeLevel] }
      }
    }
    return null
  }

  getSubjectsForGrade(gradeLevel) {
    const gradeInfo = this.getGradeInfo(gradeLevel)
    return gradeInfo ? gradeInfo.subjects : []
  }

  getQuiz(subject, gradeLevel) {
    const key = `${subject}_${gradeLevel}`
    return this.quizzes.get(key) || null
  }

  getBook(subject, gradeLevel) {
    const key = `${gradeLevel}_${subject}`
    return this.books.get(key) || null
  }

  searchContent(query) {
    const results = []
    const queryLower = query.toLowerCase()

    // Search in grades
    for (const [category, grades] of Object.entries(this.content.grades)) {
      for (const [level, info] of Object.entries(grades)) {
        if (info.name.toLowerCase().includes(queryLower)) {
          results.push({
            type: "grade",
            category,
            level,
            name: info.name,
            subjects: info.subjects,
          })
        }

        // Search in subjects
        for (const subject of info.subjects) {
          if (subject.toLowerCase().includes(queryLower)) {
            results.push({
              type: "subject",
              subject,
              grade: info.name,
              level,
            })
          }
        }
      }
    }

    // Search in universities
    for (const university of this.content.universities) {
      if (university.toLowerCase().includes(queryLower)) {
        results.push({
          type: "university",
          name: university,
        })
      }
    }

    // Search in scholarships
    for (const scholarship of this.content.scholarships) {
      if (scholarship.toLowerCase().includes(queryLower)) {
        results.push({
          type: "scholarship",
          name: scholarship,
        })
      }
    }

    return results
  }

  getRandomTip() {
    const tips = [
      "๐ก ูุตูุญุฉ: ุฑุงุฌุน ุฏุฑูุณู ููููุงู ููุฏุฉ 30 ุฏูููุฉ ุนูู ุงูุฃูู",
      "๐ ูุตูุญุฉ: ุงูุฑุฃ ุงููุชุจ ุฎุงุฑุฌ ุงููููุฌ ูุชูุณูุน ูุนุฑูุชู",
      "โ๏ธ ูุตูุญุฉ: ุงูุชุจ ููุฎุตุงุช ููุฏุฑูุณ ุงููููุฉ",
      "๐ค ูุตูุญุฉ: ุดุงุฑู ูู ุงููุฌููุนุงุช ุงูุฏุฑุงุณูุฉ ูุน ุฒููุงุฆู",
      "โฐ ูุตูุญุฉ: ูุธู ููุชู ูุงุนูู ุฌุฏููุงู ูููุฑุงุฌุนุฉ",
      "๐ฏ ูุตูุญุฉ: ุถุน ุฃูุฏุงูุงู ูุงุถุญุฉ ููู ูุงุฏุฉ",
      "๐ช ูุตูุญุฉ: ูุง ุชุณุชุณูู ุนูุฏ ููุงุฌูุฉ ุงูุตุนูุจุงุช",
      "๐ ูุตูุญุฉ: ุงุทุฑุญ ุงูุฃุณุฆูุฉ ุนูุฏูุง ูุง ุชููู ุดูุฆุงู",
    ]

    return tips[Math.floor(Math.random() * tips.length)]
  }
}
